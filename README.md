## Joonika Lite PHP Framework

### Install
```shell
curl -s https://get.joonika.com | bash && sh installer
```

### joonika toolkit
#### Top instruction
```shell
php joonika app:init
```
for initial new website

```shell
php joonika app:update
```
update assets for public folder -> publish


## structure
after update public your project this structure will be shown
#### root folders:
```shell
config/websites // location of site config > *.yaml
```

```shell
config/SortMiddleWare.php // order of middlewares run -> if not set by folder order
```

```modules
modules/ // modules location
```

storage folder auto generated by app:update
```storage
storage/files
storage/langs
storage/logs
storage/views
```

```themes
modules/ // modules location
```
in themes folder you can use every theme for multi domain websites 

### module structure
```directory
assets/*     // static assets files for using by theme or Views
Controllers/*     
Traits/*     
src/*     
Views/*
```

### controller methods

you can use two method (post|get)
```php
    public function get_index(){
        
    }
    public function post_index(){
        
    }
```

### calling by url
Example: <br>
GET: localhost/en/sample/inquiry/mobile <br>

this url parse:<br>
localhost: **domain**<br>
en: **language slug**<br>
sample: **module**<br>
inquiry: **controller**<br>
mobile: **method**<br>

```php
namespace Modules\sample\Controllers;

class inquiry extends Controller

    public function get_mobile(){
        
    }
}
```

## Controller Available Methods

### Permission Check

```` php
$this->hasPermission('users');
````

### Validate Check

```` php
$this->validate(['q|required,min:10,max:11']);
````
**Available Methods:**

required

max:(value) (Ex: max:10)

min:(value) (Ex: min:10)
<hr>

### Response
#### Success

```` php
this->setResponseSuccess($data,$success=true);
// you can response success as false in 200 (http status success)
````
````json
{
    "success": true,
    "data": [
        
    ]
}
````

#### Error

```` php
this->setResponseError($alert,$exit=false,$code=null);
// $alert text can be string or array
// if(array)
$alert = [
    "message"=>"sample message",
    "source"=>"sample message", // where happend -> file path or controller name or field name
    "data"=>"sample message", // string or array
];
// if you want to exit code and not continue after
// you can change http status code else 200
````
````json
{
    "success": false,
    "errors": [
        {"message":"sample message"}
    ]
}
````

###[TWIG](doc/tiwg.md)

